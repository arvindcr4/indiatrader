# Adam Mancini Trading Strategies

This document describes the Adam Mancini trading strategies implemented in the IndiaTrader platform.

## Overview

Adam Mancini is a professional trader known for sharing intraday trading levels and pivot points for the S&P 500. The strategies in this module adapt his techniques for the Indian market, particularly for the Nifty index.

Key features:
- Uses pivots, support and resistance levels
- Tracks opening range breakouts
- Implements failed breakdowns/breakouts
- Level-to-level trading approach
- Real-time signal generation with broker integration

## Strategies

### 1. Pivot-Based Strategy

The pivot-based strategy calculates daily pivot points using a standard formula:
```
Pivot = (High + Low + Close) / 3
R1 = (2 × Pivot) - Low
R2 = Pivot + (High - Low)
R3 = R1 + (High - Low)
S1 = (2 × Pivot) - High
S2 = Pivot - (High - Low)
S3 = S1 - (High - Low)
```

These levels are used to identify potential support and resistance areas.

### 2. Opening Range Breakout

The opening range breakout strategy:
1. Tracks the high and low of the first N minutes of trading (default: 15 minutes)
2. Generates buy signals when price breaks above the opening range high
3. Generates sell signals when price breaks below the opening range low

The strategy checks if the price is above or below the pivot point to confirm the directional bias.

### 3. Failed Breakdown/Breakout

The failed breakdown/breakout strategy looks for:
1. A significant low/high that has been established
2. A break below/above this level (usually by 2-11 points)
3. Price reclaiming the level

This is Adam Mancini's core pattern, based on the concept that most breakouts/breakdowns are traps.

## Broker Integration

The module integrates with two Indian brokers:
- Dhan API
- ICICI Breeze API

This allows for automated trading based on the signals generated by the strategies.

## Usage

### CLI Usage

```bash
python -m indiatrader.cli.mancini_trade --symbol NIFTY --exchange NFO --broker dhan --is-futures --expiry-date 29-May-2025 --quantity 1 --continuous
```

### Programmatic Usage

```python
from indiatrader.strategies.mancini_trader import ManciniTrader, BrokerType

# Initialize the trader
trader = ManciniTrader(
    broker_type=BrokerType.DHAN,
    broker_config={
        'client_id': 'your_client_id',
        'access_token': 'your_access_token'
    },
    symbol='NIFTY',
    exchange='NFO',
    product_type='intraday',
    quantity=1,
    is_futures=True,
    expiry_date='29-May-2025'
)

# Run once
result = trader.run_once()
print(result)

# Or run continuously
trader.run_continuous(
    interval_seconds=60,
    start_time='09:15',
    end_time='15:30',
    max_trades_per_day=5
)
```

## Configuration

Example configuration in `config/mancini_trading.json`:

```json
{
    "dhan": {
        "client_id": "YOUR_DHAN_CLIENT_ID",
        "access_token": "YOUR_DHAN_ACCESS_TOKEN"
    },
    "icici": {
        "api_key": "YOUR_ICICI_API_KEY",
        "api_secret": "YOUR_ICICI_API_SECRET",
        "session_token": "YOUR_ICICI_SESSION_TOKEN"
    },
    "trading": {
        "default_broker": "dhan",
        "default_product_type": "intraday",
        "default_quantity": 1,
        "default_open_range_minutes": 15,
        "default_start_time": "09:15",
        "default_end_time": "15:30",
        "max_trades_per_day": 5,
        "interval_seconds": 60
    }
}
```

## Key Parameters

- `open_range_minutes`: Number of minutes to use for the opening range (default: 15)
- `is_futures`: Whether the symbol is a futures contract
- `expiry_date`: Expiry date for futures/options in DD-MMM-YYYY format
- `product_type`: Trading product type (intraday, delivery, margin, etc.)
- `quantity`: Number of shares/contracts to trade
- `interval_seconds`: Interval between checks in continuous mode
- `max_trades_per_day`: Maximum number of trades per day

## Backtest Mode

To test the strategies without real trading, use the backtest mode:

```bash
python -m indiatrader.cli.mancini_trade --symbol NIFTY --exchange NFO --backtest-mode
```

This will simulate trades and provide a trade history at the end.

## Extending the Strategies

To create custom strategies based on Adam Mancini's framework:

1. Subclass `AdamManciniNiftyStrategy` and override the `generate_signals` method
2. Pass your custom strategy to the `ManciniTrader` constructor

Example:

```python
class CustomManciniStrategy(AdamManciniNiftyStrategy):
    def generate_signals(self, intraday):
        # Custom signal generation logic
        # ...
        return signals_df

# Use the custom strategy
trader = ManciniTrader(
    strategy=CustomManciniStrategy(open_range_minutes=15),
    # other parameters...
)
```

## Important Notes

1. Trading involves risk. These strategies do not guarantee profits.
2. Always test in backtest mode before using with real money.
3. The strategies are based on interpretations of Adam Mancini's approach and may not match his exact methodology.
4. Make sure to comply with broker-specific requirements and limitations.
5. Be aware of market hours and exchange holidays.

## References

- Adam Mancini's Twitter: [@AdamMancini4](https://twitter.com/AdamMancini4)
- Adam Mancini's Substack: [Trade Companion](https://tradecompanion.substack.com/)